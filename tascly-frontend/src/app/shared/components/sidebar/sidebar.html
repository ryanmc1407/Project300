<aside class="sidebar">
    <!-- Logo/Brand -->
    <div class="sidebar-header">
        <h1 class="logo">Tascly</h1>
    </div>

    <!-- Modes Section -->
    <div class="sidebar-section">
        <div class="section-label">Modes</div>

        <button class="mode-button" [class.active]="modeService.isBusinessMode()"
            (click)="modeService.switchToBusinessMode()">
            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <rect x="3" y="3" width="7" height="7" rx="1"></rect>
                <rect x="14" y="3" width="7" height="7" rx="1"></rect>
                <rect x="14" y="14" width="7" height="7" rx="1"></rect>
                <rect x="3" y="14" width="7" height="7" rx="1"></rect>
            </svg>
            <span>Business Mode</span>
        </button>

        <button class="mode-button" [class.active]="modeService.isProjectMode()"
            (click)="modeService.switchToProjectMode()">
            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M3 3h7v7H3zM14 3h7v7h-7zM14 14h7v7h-7zM3 14h7v7H3z" stroke-width="2"></path>
            </svg>
            <span>Project Mode</span>
        </button>
    </div>

    <!-- Workspace Section -->
    <div class="sidebar-section">
        <div class="section-label">Workspace</div>

        <a routerLink="/dashboard" routerLinkActive="active" class="nav-item">
            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <rect x="3" y="3" width="7" height="7" rx="1"></rect>
                <rect x="14" y="3" width="7" height="7" rx="1"></rect>
                <rect x="14" y="14" width="7" height="7" rx="1"></rect>
                <rect x="3" y="14" width="7" height="7" rx="1"></rect>
            </svg>
            <span>Dashboard</span>
        </a>

        <!-- Show different nav items based on role -->
        @if (modeService.isManager()) {
        <a routerLink="/daily-planner" routerLinkActive="active" class="nav-item">
            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                <line x1="16" y1="2" x2="16" y2="6"></line>
                <line x1="8" y1="2" x2="8" y2="6"></line>
                <line x1="3" y1="10" x2="21" y2="10"></line>
            </svg>
            <span>Daily Planner</span>
        </a>

        <a routerLink="/weekly-planner" routerLinkActive="active" class="nav-item">
            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                <line x1="16" y1="2" x2="16" y2="6"></line>
                <line x1="8" y1="2" x2="8" y2="6"></line>
                <line x1="3" y1="10" x2="21" y2="10"></line>
            </svg>
            <span>Weekly Planner</span>
        </a>

        <a routerLink="/ai-instructions" routerLinkActive="active" class="nav-item">
            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>
            </svg>
            <span>AI Instructions</span>
        </a>

        <!-- I added this link for the new AI Task Generator feature -->
        <!-- I placed it here so managers can easily access the auto-pilot mode -->
        <a routerLink="/ai-task-generator" routerLinkActive="active" class="nav-item">
            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"></path>
                <path d="M12 8v4l3 3"></path> <!-- A clock/time icon representing automation/speed -->
            </svg>
            <span>Auto-Task AI</span>
        </a>
        }

        <!-- Project Board - shown in Project Mode for managers -->
        @if (modeService.isProjectMode() && modeService.isManager()) {
        <a routerLink="/project-board" routerLinkActive="active" class="nav-item">
            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <line x1="8" y1="6" x2="21" y2="6"></line>
                <line x1="8" y1="12" x2="21" y2="12"></line>
                <line x1="8" y1="18" x2="21" y2="18"></line>
                <line x1="3" y1="6" x2="3.01" y2="6"></line>
                <line x1="3" y1="12" x2="3.01" y2="12"></line>
                <line x1="3" y1="18" x2="3.01" y2="18"></line>
            </svg>
            <span>Project Board</span>
        </a>
        }

        <a routerLink="/tasks" routerLinkActive="active" class="nav-item">
            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <polyline points="9 11 12 14 22 4"></polyline>
                <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>
            </svg>
            <span>Tasks</span>
        </a>

        <a routerLink="/teams" routerLinkActive="active" class="nav-item">
            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                <circle cx="9" cy="7" r="4"></circle>
                <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
            </svg>
            <span>Teams</span>
        </a>

        <a routerLink="/settings" routerLinkActive="active" class="nav-item">
            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <circle cx="12" cy="12" r="3"></circle>
                <path
                    d="M12 1v6m0 6v6m5.66-13.66l-4.24 4.24m-2.83 2.83l-4.24 4.24m13.66-5.66l-4.24-4.24m-2.83-2.83l-4.24-4.24">
                </path>
            </svg>
            <span>Settings</span>
        </a>
    </div>
</aside>