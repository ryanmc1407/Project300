<div class="weekly-planner">
    <!-- Header -->
    <div class="planner-header">
        <div>
            <h1 class="planner-title">Weekly Planner</h1>
            <p class="planner-subtitle">{{ getWeekRange() }}</p>
        </div>
        <div class="header-actions">
            <button class="btn-secondary">← Previous Week</button>
            <button class="btn-primary">This Week</button>
            <button class="btn-secondary">Next Week →</button>
        </div>
    </div>

    <!-- Week Summary -->
    <div class="week-summary">
        <div class="summary-card">
            <div class="summary-label">Total Tasks</div>
            <div class="summary-value">{{ weekSummary.totalTasks }}</div>
        </div>
        <div class="summary-card">
            <div class="summary-label">Completed</div>
            <div class="summary-value">{{ weekSummary.completedTasks }}</div>
        </div>
        <div class="summary-card">
            <div class="summary-label">Estimated Hours</div>
            <div class="summary-value">{{ weekSummary.totalHours }}h</div>
        </div>
        <div class="summary-card">
            <div class="summary-label">Capacity</div>
            <div class="summary-value">{{ weekSummary.capacityHours }}h</div>
            <div class="capacity-bar">
                <div class="capacity-fill" [style.width.%]="(weekSummary.totalHours / weekSummary.capacityHours) * 100">
                </div>
            </div>
        </div>
    </div>

    <!-- Weekly Grid -->
    <div class="weekly-grid">
        @for (day of weekDays; track day.date) {
        <div class="day-column" [class.today]="isToday(day.date)">
            <div class="day-header">
                <div class="day-name">{{ day.dayName }}</div>
                <div class="day-date">{{ day.date.getDate() }}</div>
                <div class="day-workload" [class]="getWorkloadClass(day.totalHours)">
                    {{ day.totalHours }}h
                </div>
            </div>

            <div class="day-tasks">
                @if (day.tasks.length === 0) {
                <div class="empty-day">No tasks</div>
                }
                @for (task of day.tasks; track task.id) {
                <div class="week-task" [class]="getPriorityClass(task.priority)">
                    <div class="task-priority-indicator" [class]="getPriorityClass(task.priority)"></div>
                    <div class="task-content">
                        <div class="task-title">{{ task.title }}</div>
                        @if (task.estimatedHours) {
                        <div class="task-hours">{{ task.estimatedHours }}h</div>
                        }
                        <div class="task-type">{{ task.type }}</div>
                    </div>
                </div>
                }
            </div>
        </div>
        }
    </div>
</div>